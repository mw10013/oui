{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "oui-table-demo-action-menu",
  "type": "registry:component",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "https://oui-production.mw10013.workers.dev/r/oui-button.json",
    "https://oui-production.mw10013.workers.dev/r/oui-checkbox.json",
    "https://oui-production.mw10013.workers.dev/r/oui-menu-ex.json",
    "https://oui-production.mw10013.workers.dev/r/oui-menu.json",
    "https://oui-production.mw10013.workers.dev/r/oui-separator.json",
    "https://oui-production.mw10013.workers.dev/r/oui-table.json"
  ],
  "files": [
    {
      "path": "registry/components/oui-table-demo-action-menu.tsx",
      "content": "import * as React from \"react\";\nimport { MenuEx } from \"@/registry/components/oui-menu-ex\";\nimport { Button } from \"@/registry/components/ui/oui-button\";\nimport { Checkbox } from \"@/registry/components/ui/oui-checkbox\";\nimport { MenuItem } from \"@/registry/components/ui/oui-menu\";\nimport { Separator } from \"@/registry/components/ui/oui-separator\";\nimport {\n  Cell,\n  Column,\n  Row,\n  Table,\n  TableBody,\n  TableHeader,\n} from \"@/registry/components/ui/oui-table\";\nimport { MoreHorizontal } from \"lucide-react\";\nimport * as Rac from \"react-aria-components\";\n\nconst invoices = [\n  {\n    invoice: \"INV001\",\n    paymentStatus: \"Paid\",\n    totalAmount: \"$250.00\",\n    paymentMethod: \"Credit Card\",\n  },\n  {\n    invoice: \"INV002\",\n    paymentStatus: \"Pending\",\n    totalAmount: \"$150.00\",\n    paymentMethod: \"PayPal\",\n  },\n  {\n    invoice: \"INV003\",\n    paymentStatus: \"Unpaid\",\n    totalAmount: \"$350.00\",\n    paymentMethod: \"Bank Transfer\",\n  },\n  {\n    invoice: \"INV004\",\n    paymentStatus: \"Paid\",\n    totalAmount: \"$450.00\",\n    paymentMethod: \"Credit Card\",\n  },\n  {\n    invoice: \"INV005\",\n    paymentStatus: \"Paid\",\n    totalAmount: \"$550.00\",\n    paymentMethod: \"PayPal\",\n  },\n  {\n    invoice: \"INV006\",\n    paymentStatus: \"Pending\",\n    totalAmount: \"$200.00\",\n    paymentMethod: \"Bank Transfer\",\n  },\n  {\n    invoice: \"INV007\",\n    paymentStatus: \"Unpaid\",\n    totalAmount: \"$300.00\",\n    paymentMethod: \"Credit Card\",\n  },\n];\n\nexport default function Component() {\n  const [sortDescriptor, setSortDescriptor] = React.useState<\n    Rac.SortDescriptor | undefined\n  >(undefined);\n\n  const sortedInvoices = React.useMemo(() => {\n    if (!sortDescriptor?.column) {\n      return invoices;\n    }\n    const items = [...invoices];\n    items.sort((a, b) => {\n      const first = a[sortDescriptor.column as keyof typeof a];\n      const second = b[sortDescriptor.column as keyof typeof b];\n      let cmp = 0;\n      if (typeof first === \"string\" && typeof second === \"string\") {\n        cmp = first.localeCompare(second);\n      } else if (typeof first === \"number\" && typeof second === \"number\") {\n        cmp = first < second ? -1 : first > second ? 1 : 0;\n      }\n\n      if (sortDescriptor.direction === \"descending\") {\n        cmp *= -1;\n      }\n      return cmp;\n    });\n    return items;\n  }, [sortDescriptor]);\n\n  return (\n    <Table\n      aria-label=\"Invoices\"\n      selectionMode=\"multiple\"\n      sortDescriptor={sortDescriptor}\n      onSortChange={setSortDescriptor}\n    >\n      <TableHeader>\n        <Column>\n          <Checkbox slot=\"selection\" />\n        </Column>\n        <Column id=\"invoice\" isRowHeader className=\"w-[100px]\">\n          Invoice\n        </Column>\n        <Column id=\"paymentStatus\" allowsSorting>\n          Status\n        </Column>\n        <Column id=\"paymentMethod\" allowsSorting>\n          Method\n        </Column>\n        <Column id=\"totalAmount\" className=\"text-right\">\n          Amount\n        </Column>\n        <Column id=\"actions\" aria-label=\"Actions\" className=\"w-10 text-right\">\n          <span className=\"sr-only\">Actions</span>\n        </Column>\n      </TableHeader>\n      <TableBody items={sortedInvoices}>\n        {(invoice) => (\n          <Row id={invoice.invoice}>\n            <Cell>\n              <Checkbox slot=\"selection\" />\n            </Cell>\n            <Cell className=\"font-medium\">{invoice.invoice}</Cell>\n            <Cell>{invoice.paymentStatus}</Cell>\n            <Cell>{invoice.paymentMethod}</Cell>\n            <Cell className=\"text-right\">{invoice.totalAmount}</Cell>\n            <Cell className=\"text-right\">\n              <MenuEx\n                triggerElement={\n                  <Button variant=\"ghost\" className=\"size-8 p-0\">\n                    <span className=\"sr-only\">\n                      Open menu for {invoice.invoice}\n                    </span>\n                    <MoreHorizontal className=\"size-4\" />\n                  </Button>\n                }\n                onAction={(key) => {\n                  // Placeholder for future action handling\n                  console.log(\n                    `Action: ${String(key)} for invoice ${invoice.invoice}`,\n                  );\n                }}\n              >\n                <MenuItem id=\"copyId\">Copy payment ID</MenuItem>\n                <Separator variant=\"menu\" />\n                <MenuItem id=\"viewCustomer\">View customer</MenuItem>\n                <MenuItem id=\"viewDetails\">View payment details</MenuItem>\n              </MenuEx>\n            </Cell>\n          </Row>\n        )}\n      </TableBody>\n    </Table>\n  );\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "tags": [
      "table"
    ]
  }
}